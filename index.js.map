{"version":3,"file":"index.js","sources":["../src/js/helpers.js","../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["\nexport function removeClassCategory(className) {\n    const allBtn = document.querySelectorAll('.categories__btn');\n\n    Array.from(allBtn).forEach(item => {\n        item.classList.remove(`${className}`)\n        console.dir(item);\n\n    });\n}","export const API_BASE_URL = \"https://dummyjson.com/products\";\n\nexport const API_ENDPOINTS = {\n    CATEGORIES: \"/category-list\",\n    CATEGORY: \"/category\",\n}\n\nexport const ITEMS_PER_PAGE = 12;\n\n// https://dummyjson.com/products/category/smartphones","import axios from 'axios';\nimport { API_BASE_URL, API_ENDPOINTS, ITEMS_PER_PAGE } from './constants';\n\naxios.defaults.baseURL = API_BASE_URL;\n\nexport async function getCategories() {\n    const results = await axios(`${API_ENDPOINTS.CATEGORIES}`);\n\n    return results.data;\n}\n\nexport async function getProducts(currentPage) {\n    const skip = (currentPage - 1) * ITEMS_PER_PAGE;\n\n    const { data } = await axios(`?limit=${ITEMS_PER_PAGE}&skip=${skip}`);\n    return data;\n}\n\nexport async function getOneCategory(category, currentPage) {\n    const skip = (currentPage - 1) * ITEMS_PER_PAGE;\n\n    const { data } = await axios(`${API_ENDPOINTS.CATEGORY}/${category}?limit=${ITEMS_PER_PAGE}&skip=${skip}`);\n\n    return data;\n}\n","export const refs = {\n    categoriesList: document.querySelector('.categories'),\n    productsList: document.querySelector('.products'),\n    divNotFound: document.querySelector('.not-found'),\n}","import { refs } from \"./refs\";\n\nexport function renderProducts(products) {\n\n    const markup = products.map(({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: $${price}</p>\n </li>\n `).join(\"\");\n\n    refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderCategories(categories) {\n    const markup = categories.map(category => `\n    <li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>\n    `).join('')\n\n    refs.categoriesList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearProducts() {\n    refs.productsList.innerHTML = '';\n}","import { removeClassCategory } from \"./helpers\";\nimport { getCategories, getOneCategory, getProducts } from \"./products-api\";\nimport { refs } from \"./refs\";\nimport { clearProducts, renderCategories, renderProducts } from \"./render-function\";\n\nlet currentPage = 1;\n\nexport async function initHomePage() {\n    try {\n        const { products, total } = await getProducts(currentPage);\n        renderProducts(products);\n\n    } catch (error) {\n        console.log(error);\n    }\n\n    try {\n        const categories = ['all', ...await getCategories()];\n        renderCategories(categories);\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport async function handlerCategoriesList(event) {\n\n    if (event.target.tagName !== \"BUTTON\") {\n        return;\n    }\n\n    refs.divNotFound.classList.remove('not-found--visible');\n    removeClassCategory('categories__btn--active');\n\n    event.target.classList.add('categories__btn--active')\n\n    const textCategory = event.target.textContent;\n\n    if (textCategory === 'all') {\n        clearProducts();\n        try {\n            const { products, total } = await getProducts(currentPage);\n            renderProducts(products);\n        } catch (error) {\n            console.log(error);\n\n        }\n\n        return;\n    }\n\n\n    try {\n        const { products, total } = await getOneCategory(textCategory, currentPage);\n\n        if (total === 0) {\n            clearProducts();\n            refs.divNotFound.classList.add('not-found--visible');\n            return;\n        }\n        clearProducts();\n        renderProducts(products);\n\n    } catch (error) {\n        console.log(error);\n\n    }\n\n}","import { handlerCategoriesList, initHomePage } from \"./js/handlers\";\nimport { refs } from \"./js/refs\";\n\ndocument.addEventListener('DOMContentLoaded', initHomePage);\n\nrefs.categoriesList.addEventListener('click', handlerCategoriesList);\n"],"names":["removeClassCategory","className","allBtn","item","API_BASE_URL","API_ENDPOINTS","ITEMS_PER_PAGE","axios","getCategories","getProducts","currentPage","skip","data","getOneCategory","category","refs","renderProducts","products","markup","id","thumbnail","title","brand","price","renderCategories","categories","clearProducts","initHomePage","total","error","handlerCategoriesList","event","textCategory"],"mappings":"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"}